# Malware

Small windows malware that exfiltrates data through a discord webhook. The repo contains 2 cargo projects, one for the payload that will be persistently executed, and one for the injector (to be hidden as a file) that will download the payload.

> [!WARNING]
> This a class project for demonstration purposes, don't use it for anything illegal.

## Building

- build the payload, preferably in release profile to reduce binary size
- upload the payload to a file hosting website, or as a discord attachment
- put the url of the uploaded payload in `injector/src/constants.rs`
- build the injector

## Crosscompiling

To compile for windows on linux, install `mingw-w64` and run `cargo build --target x86_64-pc-windows-gnu`.

The compiled binary for the payload will be in `payload/target/x86_64-pc-windows-gnu/debug/payload.exe`, same path for the injector with `injector` instead of `payload`.

You can make the directory shared with a windows VM for testing.

## Features

The malware has multiple features that can be toggled in `payload/constants.rs`.

### Browser cookies and passwords stealing

Cookies (including authentication tokens) and saved passwords in chrome-based browsers are collected and sent when the payload is executed.

### Keylogging

The payload starts a thread that saves keystrokes and the window they are typed in, and sends it at each payload execution (requires persistence). 

### Screenshots

The payload starts a thread that takes screenshots every 5 seconds and sends them on the spot.

### Anti-analysis

The injector and the payload use the crate `antilysis` to stop execution if run in an analysis environment.

### To do

- firefox-based browsers cookies and passwords 
- authentication token selection
- telegram, steam, discord tokens
- recall data
- packing
- obfuscation
- data encryption

## Inspirations

https://github.com/Abdulrhmanbk/discoon-malware/

https://github.com/doenerium69/doenerium

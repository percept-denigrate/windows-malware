use anyhow::Result; 
use serenity::{http::Http, model::{channel::Embed,webhook::Webhook}};

#[tokio::main]
async fn main(){
    send().await;
}

async fn send() -> Result<()>{
    let http = Http::new("token");

    let url = "https://discord.com/api/webhooks/1103235373561286687/HCqLWBG96VY1uJ9kdx5_Og8GeL8dGHx2Xhho88XH6fE8m4Tsw7cNXL1U-QRzP32Ajpor";
    let webhook = Webhook::from_url(&http, url).await?;

    let embed = Embed::fake(|e| {
    e.title("title");
    e.description(
        "description",
    );
    e
});

    webhook
        .execute(&http, true, |w| {
            w.content("content")
                .username("username")
                .embeds(vec![embed])
        })
        .await?;
    Ok(())
}

use screenshots::Screen;

use std::{
    thread,
    time::Duration,
};

pub fn run () {
    let mut number = 0;
    loop {
        thread::sleep(Duration::from_millis(5000));

        screenshot(&number);
        number += 1;
    }
}

pub fn screenshot(name: &i64) {
    let screens = Screen::all().unwrap();

    for screen in screens {
        println!("capturer {screen:?}");
        let image = screen.capture().unwrap();
        image
            .save(format!("C:\\Users\\windows\\Pictures\\Saved Pictures/{}.png", name))
            .unwrap();
    }
}